# Decap CMS Configuration
# https://decapcms.org/docs/configuration-options/

backend:
  # GitHub Backend with Custom Authentication (Firebase Functions)
  name: github
  repo: ripixel/bingham-sunday-running-club-website
  branch: main
  base_url: https://binghamsundayrunningclub.co.uk
  auth_endpoint: api/auth
  api_root: https://api.github.com
  commit_messages:
    create: "feat(content): Create {{collection}} ‚Äú{{slug}}‚Äù"
    update: "feat(content): Update {{collection}} ‚Äú{{slug}}‚Äù"
    delete: "feat(content): Delete {{collection}} ‚Äú{{slug}}‚Äù"
    uploadMedia: "feat(media): Upload ‚Äú{{path}}‚Äù"
    deleteMedia: "feat(media): Delete ‚Äú{{path}}‚Äù"
    openAuthoring: '{{message}}'

# Media files storage
media_folder: "assets/images"
public_folder: "/images"

# Site URL for local development preview
site_url: https://binghamsundayrunningclub.co.uk
display_url: https://binghamsundayrunningclub.co.uk
logo_url: /images/logo.png

# Slug configuration
slug:
  encoding: "ascii"
  clean_accents: true

# Collections define the structure for editable content
collections:
  # Editable Pages
  - name: "pages"
    label: "Pages"
    label_singular: "Page"
    description: "Edit site pages content"
    files:
      # Homepage
      - name: "home"
        label: "Homepage"
        file: "content/pages/home.json"
        fields:
          - label: "Hero Section"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Tagline", name: "tagline", widget: "string", default: "All Paces. All Smiles. Just Show Up." }
              - { label: "CTA Button Text", name: "ctaText", widget: "string", default: "Join Us On Strava" }
              - { label: "CTA Button Link", name: "ctaLink", widget: "string" }
              - { label: "Hero Image", name: "heroImage", widget: "image", required: false }

          - label: "Story Section"
            name: "story"
            widget: "object"
            fields:
              - { label: "Section Label", name: "label", widget: "string", default: "Our Story" }
              - { label: "Title", name: "title", widget: "string", default: "More Than Just Running" }
              - { label: "Description", name: "description", widget: "text" }
              - label: "Featured Member (Creator)"
                name: "members"
                widget: "list"
                max: 1
                fields:
                  - { label: "Name", name: "name", widget: "string" }
                  - { label: "Tag Line", name: "tagline", widget: "string" }
                  - { label: "Photo", name: "photo", widget: "image", required: false }

          - label: "Vibe Section"
            name: "vibe"
            widget: "object"
            fields:
              - { label: "Title", name: "title", widget: "string", default: "Weekly Vibe" }
              - label: "Vibe Cards"
                name: "cards"
                widget: "list"
                fields:
                  - { label: "Title", name: "title", widget: "string" }
                  - { label: "Description", name: "description", widget: "string", required: false, hint: "Optional subtitle or label" }
                  - { label: "Icon (Emoji)", name: "icon", widget: "string", default: "üèÉ" }
                  - { label: "Background Color", name: "backgroundColor", widget: "color", default: "#f97316" }
                  - { label: "Text Color", name: "textColor", widget: "color", default: "#ffffff", hint: "Color for text and icons" }
                  - { label: "Button Text", name: "buttonText", widget: "string" }
                  - { label: "Button Link", name: "buttonLink", widget: "string" }
                  - { label: "Open in New Tab", name: "openInNewTab", widget: "boolean", default: false }

          - label: "Merch Section"
            name: "merch"
            widget: "object"
            fields:
              - { label: "Title", name: "title", widget: "string", default: "Club Merch" }
              - { label: "Description", name: "description", widget: "text", required: false }
              - { label: "Note", name: "note", widget: "string", default: "Available to purchase at the run. Cash or card accepted." }
              - label: "Items"
                name: "items"
                widget: "list"
                fields:
                  - { label: "Name", name: "name", widget: "string" }
                  - { label: "Price", name: "price", widget: "string" }
                  - { label: "Image", name: "image", widget: "image", required: false }

          - label: "Personal Bests"
            name: "pbs"
            widget: "object"
            fields:
              - { label: "Title", name: "title", widget: "string", default: "Club Records" }
              - label: "Records"
                name: "records"
                widget: "list"
                fields:
                  - { label: "Runner Name", name: "name", widget: "string" }
                  - { label: "Distance", name: "distance", widget: "select", options: ["5k", "10k", "Half Marathon", "Marathon"] }
                  - { label: "Time", name: "time", widget: "string" }
                  - { label: "Date", name: "date", widget: "datetime", format: "MMMM D, YYYY" }

      # About Page
      - name: "about"
        label: "About Page"
        file: "content/pages/about.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "About Us" }
          - { label: "Page Subtitle", name: "subtitle", widget: "string", default: "The chill philosophy behind the club" }
          - label: "Philosophy Section"
            name: "philosophy"
            widget: "object"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "Our Philosophy" }
              - { label: "Content", name: "content", widget: "markdown" }

          - label: "Vibes Section"
            name: "vibes"
            widget: "object"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "No Pressure, Just Vibes" }
              - { label: "Intro Content", name: "content", widget: "markdown" }
              - label: "Values Grid"
                name: "values"
                widget: "list"
                fields:
                  - { label: "Icon", name: "icon", widget: "string", default: "üèÉ" }
                  - { label: "Title", name: "title", widget: "string" }
                  - { label: "Description", name: "description", widget: "string" }

          - label: "Location Section"
            name: "location"
            widget: "object"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "When & Where" }
              - { label: "Content", name: "content", widget: "markdown" }
              - label: "Meeting Details"
                name: "meeting"
                widget: "object"
                fields:
                  - { label: "Day & Time", name: "when", widget: "string", default: "Every Sunday @ 9:00 AM" }
                  - { label: "Location", name: "where", widget: "string", default: "Bingham Market Place" }
                  - { label: "Distance", name: "distance", widget: "string", default: "5-10km (your choice!)" }
                  - { label: "After Run", name: "after", widget: "string", default: "Brunch at a local caf√©" }

          - label: "Meeting Info (for Contact Page)"
            name: "meeting"
            widget: "object"
            collapsed: true
            hint: "This data is also shown on the Contact page"
            fields:
              - { label: "Day & Time", name: "when", widget: "string", default: "Every Sunday @ 9:00 AM" }
              - { label: "Location", name: "where", widget: "string", default: "Bingham Market Place" }
              - { label: "Distance", name: "distance", widget: "string", default: "5-10km (your choice!)" }
              - { label: "After Run", name: "after", widget: "string", default: "Brunch at a local caf√©" }

      - name: "contact"
        label: "Contact Page"
        file: "content/pages/contact.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "Contact" }
          - { label: "Page Subtitle", name: "subtitle", widget: "string", default: "Get in touch or just show up!" }
          - { label: "Section Title", name: "sectionTitle", widget: "string", default: "Join the Conversation" }
          - { label: "Introduction", name: "intro", widget: "text" }
          - label: "Contact Cards"
            name: "cards"
            widget: "list"
            fields:
              - { label: "Icon (Emoji)", name: "icon", widget: "string", default: "üìß" }
              - { label: "Icon Background Color", name: "color", widget: "color", default: "#25D366" }
              - { label: "Title", name: "title", widget: "string" }
              - { label: "Description", name: "description", widget: "string" }
              - { label: "Link", name: "link", widget: "string" }
          - { label: "Meeting Note", name: "meetingNote", widget: "string", default: "No sign-up needed. Just show up and look for the friendly runners!" }

  # Site Settings
  - name: "settings"
    label: "Site Settings"
    files:
      - name: "general"
        label: "General Settings"
        file: "content/settings/general.json"
        fields:
          - { label: "Site Name", name: "siteName", widget: "string", default: "Bingham Sunday Running Club" }
          - { label: "Site URL", name: "siteUrl", widget: "string", default: "https://binghamsundayrunningclub.co.uk" }
          - { label: "Site Description", name: "siteDescription", widget: "text" }
          - { label: "Logo", name: "logo", widget: "image", required: false }
          - { label: "Favicon", name: "favicon", widget: "image", required: false }
          - label: "Social Links"
            name: "social"
            widget: "object"
            fields:
              - { label: "Instagram URL", name: "instagram", widget: "string", required: false }
              - { label: "Strava Club URL", name: "strava", widget: "string", required: false }

  # Events Collection
  - name: "events"
    label: "Special Events"
    folder: "content/events"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Event Title", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Location", name: "location", widget: "string", default: "Bingham Market Place" }
      - { label: "Description", name: "body", widget: "markdown" }
      - { label: "Cover Image", name: "image", widget: "image", required: false }
