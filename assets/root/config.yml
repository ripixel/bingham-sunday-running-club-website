# Decap CMS Configuration
# https://decapcms.org/docs/configuration-options/

backend:
  # GitHub Backend with Custom Authentication (Firebase Functions)
  name: github
  repo: ripixel/bingham-sunday-running-club-website
  branch: main
  base_url: https://binghamsundayrunningclub.co.uk
  auth_endpoint: api/auth
  api_root: https://api.github.com
  commit_messages:
    create: "feat(content): Create {{collection}} ‚Äú{{slug}}‚Äù"
    update: "feat(content): Update {{collection}} ‚Äú{{slug}}‚Äù"
    delete: "feat(content): Delete {{collection}} ‚Äú{{slug}}‚Äù"
    uploadMedia: "feat(media): Upload ‚Äú{{path}}‚Äù"
    deleteMedia: "feat(media): Delete ‚Äú{{path}}‚Äù"
    openAuthoring: '{{message}}'

# Media files storage
media_folder: "assets/images"
public_folder: "/images"

# Site URL for local development preview
site_url: https://binghamsundayrunningclub.co.uk
display_url: https://binghamsundayrunningclub.co.uk
logo_url: /images/logo.png

# Slug configuration
slug:
  encoding: "ascii"
  clean_accents: true

# Collections define the structure for editable content
collections:
  # Editable Pages
  - name: "pages"
    label: "Pages"
    label_singular: "Page"
    description: "Edit site pages content"
    files:
      # Homepage
      - label: "Homepage"
        name: "home"
        file: "content/pages/home.json"
        fields:
          - label: "Hero Section"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Tagline", name: "tagline", widget: "string", default: "All Paces. All Smiles. Just Show Up." }
              - { label: "CTA Button Text", name: "ctaText", widget: "string", default: "Join Us On Strava" }
              - { label: "CTA Button Link", name: "ctaLink", widget: "string" }
              - { label: "Hero Image", name: "heroImage", widget: "image", required: false }

          - label: "Latest Run Section"
            name: "latestRun"
            widget: "object"
            fields:
              - { label: "Section Label", name: "sectionLabel", widget: "string", default: "Latest Adventure" }
              - { label: "Section Title", name: "sectionTitle", widget: "string", default: "Our Last Sunday Run" }
              - { label: "CTA Button Text", name: "ctaText", widget: "string", default: "View Full Results" }

          - label: "Story Section"
            name: "story"
            widget: "object"
            fields:
              - { label: "Section Label", name: "label", widget: "string", default: "Our Story" }
              - { label: "Title", name: "title", widget: "string", default: "More Than Just Running" }
              - { label: "Description", name: "description", widget: "text" }
              - label: "Action Buttons"
                name: "buttons"
                widget: "list"
                required: false
                fields:
                  - { label: "Button Text", name: "text", widget: "string" }
                  - { label: "Button Link", name: "link", widget: "string" }
                  - { label: "Style", name: "style", widget: "select", options: ["primary", "secondary", "fun"], default: "primary" }
              - label: "Founder"
                name: "founder"
                widget: "object"
                fields:
                  - { label: "Name", name: "name", widget: "string" }
                  - { label: "Tag Line", name: "tagline", widget: "string" }
                  - { label: "Photo", name: "photo", widget: "image", required: false }
              - label: "Key Members"
                name: "keyMembers"
                widget: "list"
                required: false
                fields:
                  - { label: "Name", name: "name", widget: "string" }
                  - { label: "Tag Line", name: "tagline", widget: "string" }
                  - { label: "Photo", name: "photo", widget: "image", required: false }
                  - { label: "Accent Color", name: "accentColor", widget: "select", options: ["pink", "green", "blue"], default: "pink" }

          - label: "Vibe Section"
            name: "vibe"
            widget: "object"
            fields:
              - { label: "Title", name: "title", widget: "string", default: "Weekly Vibe" }
              - { label: "Description", name: "description", widget: "text", required: false }
              - label: "Vibe Cards"
                name: "cards"
                widget: "list"
                fields:
                  - { label: "Title", name: "title", widget: "string" }
                  - { label: "Description", name: "description", widget: "string", required: false, hint: "Optional subtitle or label" }
                  - { label: "Icon (Emoji)", name: "icon", widget: "string", default: "üèÉ" }
                  - { label: "Button Text", name: "buttonText", widget: "string" }
                  - { label: "Button Link", name: "buttonLink", widget: "string" }
                  - { label: "Open in New Tab", name: "openInNewTab", widget: "boolean", default: false }

          - label: "Merch Section"
            name: "merch"
            widget: "object"
            fields:
              - { label: "Title", name: "title", widget: "string", default: "Club Merch" }
              - { label: "Description", name: "description", widget: "text", required: false }
              - { label: "Note", name: "note", widget: "string", default: "Available to purchase at the usual Sunday run. Cash or bank transfer accepted." }
              - label: "Featured Members"
                name: "featuredMembers"
                widget: "list"
                fields:
                  - { label: "Name", name: "name", widget: "string" }
                  - { label: "Role", name: "role", widget: "string" }
                  - { label: "Image", name: "image", widget: "image" }

          - label: "Personal Bests"
            name: "pbs"
            widget: "object"
            fields:
              - { label: "Title", name: "title", widget: "string", default: "Wall of Fame" }
              - { label: "Description", name: "description", widget: "text", required: false }
              - label: "Legends Section"
                name: "legends"
                widget: "object"
                fields:
                  - { label: "Title", name: "title", widget: "string", default: "üèÜ Sunday Run Legends" }
                  - { label: "Subtitle", name: "subtitle", widget: "string", default: "Top performers from our weekly runs" }
              - label: "All-Time PBs Section"
                name: "allTimePbs"
                widget: "object"
                fields:
                  - { label: "Title", name: "title", widget: "string", default: "üéñÔ∏è All-Time PBs" }
                  - { label: "Subtitle", name: "subtitle", widget: "string", default: "Personal bests across any event" }
              - label: "Records"
                name: "records"
                widget: "list"
                fields:
                  - { label: "Runner Name", name: "name", widget: "string" }
                  - { label: "Runner ID", name: "runner", widget: "string", required: false, hint: "Runner slug for photo/link (e.g. 'james')" }
                  - { label: "Distance", name: "distance", widget: "select", options: ["5k", "10k", "Half Marathon", "Marathon"] }
                  - { label: "Time", name: "time", widget: "string" }
                  - { label: "Date", name: "date", widget: "datetime", format: "MMMM D, YYYY" }

      # Results Page
      - name: "results_page"
        label: "Results Page"
        file: "content/pages/results.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "Run Results" }
          - { label: "Page Subtitle", name: "subtitle", widget: "string", default: "A look back at our Sunday adventures" }
          - { label: "Featured Label", name: "featuredLabel", widget: "string", default: "Latest Adventure", required: false }
          - { label: "Latest Run Title", name: "latestRunTitle", widget: "string", default: "Latest Run" }
          - { label: "Previous Runs Title", name: "previousRunsTitle", widget: "string", default: "Previous Runs" }
          - label: "Stat Labels"
            name: "stats"
            widget: "object"
            fields:
              - { label: "Runners Label", name: "runnersLabel", widget: "string", default: "Runners" }
              - { label: "Distance Label", name: "distanceLabel", widget: "string", default: "Total Distance" }
              - { label: "Pace Label", name: "paceLabel", widget: "string", default: "Avg Pace" }
              - { label: "PBs Label", name: "pbsLabel", widget: "string", default: "PBs Earned" }

      # Stats Page
      - name: "stats_page"
        label: "Stats Page"
        file: "content/pages/stats.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "Club Stats" }
          - { label: "Page Subtitle", name: "subtitle", widget: "string", default: "Numbers that tell our story" }
          - label: "Totals Section Labels"
            name: "totals"
            widget: "object"
            fields:
              - { label: "Events Label", name: "eventsLabel", widget: "string", default: "Total Events" }
              - { label: "Runners Label", name: "runnersLabel", widget: "string", default: "Unique Runners" }
              - { label: "Distance Label", name: "distanceLabel", widget: "string", default: "Combined Distance" }
              - { label: "Avg Attendance Label", name: "avgLabel", widget: "string", default: "Avg Attendance" }
          - label: "Leaderboards Section"
            name: "leaderboards"
            widget: "object"
            fields:
              - { label: "Section Title", name: "title", widget: "string", default: "Leaderboards" }
              - { label: "Most Events Title", name: "mostEvents", widget: "string", default: "üèÉ Most Events Attended" }
              - { label: "Most Distance Title", name: "mostDistance", widget: "string", default: "üìè Most Distance" }
              - { label: "Fastest Pace Title", name: "fastestPace", widget: "string", default: "‚ö° Fastest Avg Pace" }
          - label: "Loop Champions Section"
            name: "loopChampions"
            widget: "object"
            fields:
              - { label: "Section Title", name: "title", widget: "string", default: "Loop Champions üèÖ" }
              - { label: "Small Loops Title", name: "smallLoops", widget: "string", default: "ü©∑ Most Small Loops" }
              - { label: "Medium Loops Title", name: "mediumLoops", widget: "string", default: "üíö Most Medium Loops" }
              - { label: "Long Loops Title", name: "longLoops", widget: "string", default: "üíô Most Long Loops" }
          - label: "Club Records Section"
            name: "records"
            widget: "object"
            fields:
              - { label: "Section Title", name: "title", widget: "string", default: "Club Records" }
              - { label: "Section Subtitle", name: "subtitle", widget: "string", default: "The fastest times at each distance" }

      - name: "events"
        label: "Events Page"
        file: "content/pages/events.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string" }
          - { label: "Intro Text", name: "intro", widget: "text" }
          - { label: "Next Run Label", name: "nextRunLabel", widget: "string", default: "Next Run" }
          - { label: "Upcoming Runs Title", name: "upcomingTitle", widget: "string", default: "Upcoming Runs" }

      # About Page
      - name: "about"
        label: "About Page"
        file: "content/pages/about.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "About" }
          - { label: "Page Subtitle", name: "subtitle", widget: "string", default: "The chill philosophy behind the club" }
          - label: "Philosophy Section"
            name: "philosophy"
            widget: "object"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "Our Philosophy" }
              - { label: "Content", name: "content", widget: "markdown" }

          - label: "Route Section"
            name: "route"
            widget: "object"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "What's the route?" }
              - { label: "Description", name: "description", widget: "text" }
              - label: "Approach"
                name: "approach"
                widget: "object"
                fields:
                  - { label: "Title", name: "title", widget: "string", default: "The Approach" }
                  - { label: "Distance", name: "distance", widget: "string", default: "1km" }
                  - { label: "Description", name: "description", widget: "string" }
              - label: "Finishing"
                name: "finishing"
                widget: "object"
                fields:
                  - { label: "Title", name: "title", widget: "string", default: "Back for Breakfast" }
                  - { label: "Description", name: "description", widget: "string" }
              - label: "Loops"
                name: "loops"
                widget: "list"
                fields:
                  - { label: "ID", name: "id", widget: "string", hint: "unique id (e.g. small)" }
                  - { label: "Title", name: "title", widget: "string" }
                  - { label: "Distance", name: "distance", widget: "string" }
                  - { label: "Description", name: "description", widget: "string" }
                  - { label: "Color", name: "color", widget: "select", options: ["pink", "green", "blue"], default: "pink" }

          - label: "Vibes Section"
            name: "vibes"
            widget: "object"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "No Pressure, Just Vibes" }
              - { label: "Intro Content", name: "content", widget: "markdown" }
              - label: "Values Grid"
                name: "values"
                widget: "list"
                fields:
                  - { label: "Icon", name: "icon", widget: "string", default: "üèÉ" }
                  - { label: "Title", name: "title", widget: "string" }
                  - { label: "Description", name: "description", widget: "string" }

          - label: "Location Section"
            name: "location"
            widget: "object"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "When & Where" }
              - { label: "Content", name: "content", widget: "markdown" }
              - { label: "Map Link URL", name: "mapLink", widget: "string", required: false, hint: "Full Google Maps URL" }
              - { label: "Map Link Text", name: "mapLinkText", widget: "string", default: "Open in Google Maps", required: false }
              - label: "Meeting Details"
                name: "meeting"
                widget: "object"
                fields:
                  - { label: "Day & Time", name: "when", widget: "string", default: "Every Sunday @ 9:00 AM" }
                  - { label: "Location", name: "where", widget: "string", default: "Bingham Market Place" }
                  - { label: "Distance", name: "distance", widget: "string", default: "5-10km (your choice!)" }
                  - { label: "After Run", name: "after", widget: "string", default: "Brunch at a local caf√©" }
              - label: "Parking"
                name: "parking"
                widget: "object"
                fields:
                  - { label: "Heading", name: "heading", widget: "string", default: "Parking" }
                  - label: "Options"
                    name: "options"
                    widget: "list"
                    fields:
                      - { label: "Title", name: "title", widget: "string" }
                      - { label: "Description", name: "description", widget: "string" }

          - label: "Post-Run Section"
            name: "postRun"
            widget: "object"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "Post-Run Coffee & Breakfast" }
              - { label: "Description", name: "description", widget: "text" }
              - { label: "Venue Name", name: "venueName", widget: "string", default: "Gilt Caf√© Bar" }
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Features", name: "features", widget: "list" }

          - label: "Meeting Info (for Contact Page)"
            name: "meeting"
            widget: "object"
            collapsed: true
            hint: "This data is also shown on the Contact page"
            fields:
              - { label: "Day & Time", name: "when", widget: "string", default: "Every Sunday @ 9:00 AM" }
              - { label: "Location", name: "where", widget: "string", default: "Bingham Market Place" }
              - { label: "Distance", name: "distance", widget: "string", default: "5-10km (your choice!)" }
              - { label: "After Run", name: "after", widget: "string", default: "Brunch at a local caf√©" }

      - name: "contact"
        label: "Contact Page"
        file: "content/pages/contact.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "Contact" }
          - { label: "Page Subtitle", name: "subtitle", widget: "string", default: "Get in touch or just show up!" }
          - { label: "Section Title", name: "sectionTitle", widget: "string", default: "Join the Conversation" }
          - { label: "Introduction", name: "intro", widget: "text" }
          - label: "Contact Cards"
            name: "cards"
            widget: "list"
            fields:
              - { label: "Icon (Emoji)", name: "icon", widget: "string", default: "üìß" }
              - { label: "Icon Background Color", name: "color", widget: "color", default: "#25D366" }
              - { label: "Title", name: "title", widget: "string" }
              - { label: "Description", name: "description", widget: "string" }
              - { label: "Link", name: "link", widget: "string" }
          - { label: "Meeting Note", name: "meetingNote", widget: "string", default: "No sign-up needed. Just show up and look for the friendly runners!" }

  # Site Settings
  - name: "settings"
    label: "Site Settings"
    files:
      - name: "general"
        label: "General Settings"
        file: "content/settings/general.json"
        fields:
          - { label: "Site Name", name: "siteName", widget: "string", default: "Bingham Sunday Running Club" }
          - { label: "Site URL", name: "siteUrl", widget: "string", default: "https://binghamsundayrunningclub.co.uk" }
          - { label: "Site Description", name: "siteDescription", widget: "text" }
          - { label: "Logo", name: "logo", widget: "image", required: false }
          - { label: "Favicon", name: "favicon", widget: "image", required: false }
          - label: "Social Links"
            name: "social"
            widget: "object"
            fields:
              - { label: "Instagram URL", name: "instagram", widget: "string", required: false }
              - { label: "Strava Club URL", name: "strava", widget: "string", required: false }

      - name: "recurring_run"
        label: "Recurring Run Settings"
        file: "content/settings/recurring-run.json"
        fields:
          - { label: "Run Title", name: "title", widget: "string", default: "‚òï Sunday Run & Breakfast" }
          - { label: "Description", name: "description", widget: "text" }
          - { label: "Default Location", name: "defaultLocation", widget: "string", default: "Bingham Market Place" }
          - { label: "Default Time", name: "defaultTime", widget: "string", default: "09:00" }
          - label: "Loop Distances (km)"
            name: "loopDistances"
            widget: "object"
            fields:
              - { label: "Small", name: "small", widget: "number", value_type: "float", default: 0.8 }
              - { label: "Medium", name: "medium", widget: "number", value_type: "float", default: 1.0 }
              - { label: "Long", name: "long", widget: "number", value_type: "float", default: 1.2 }
          - { label: "Distance", name: "distance", widget: "string", default: "5-10km (your choice!)" }
          - { label: "External Venue Warning", name: "externalVenueWarning", widget: "string", default: "The regular Sunday run will still take place from {location} ‚Äì just turn up and run together!", hint: "Shown when special events are at external venues. Use {location} as placeholder." }

  # Events Collection
  - name: "events"
    label: "Special Events"
    folder: "content/events"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Event Title", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Location", name: "location", widget: "string", default: "Bingham Market Place" }
      - { label: "Distance", name: "distance", widget: "string", required: false }
      - { label: "Meeting Note", name: "meetingNote", widget: "string", required: false, hint: "Overrides default meeting note. e.g. 'Sign up required!'" }
      - { label: "Action Link URL", name: "link", widget: "string", required: false, hint: "External link for signup/tickets" }
      - { label: "Action Link Text", name: "linkText", widget: "string", default: "Sign Up / Info", required: false }
      - { label: "External Venue", name: "isExternalVenue", widget: "boolean", default: false, hint: "If true, shows warning that regular run still happens at usual location" }
      - { label: "Description", name: "body", widget: "markdown" }

  # Runners Collection
  - name: "runners"
    label: "Runners"
    label_singular: "Runner"
    description: "Club member profiles"
    folder: "content/runners"
    create: true
    identifier_field: "id"
    slug: "{{id}}"
    extension: "json"
    format: "json"
    fields:
      - { label: "ID (URL Slug)", name: "id", widget: "string", hint: "Lowercase, no spaces (e.g. 'james')" }
      - { label: "Name", name: "name", widget: "string", hint: "First name only (e.g. 'James')" }
      - { label: "Anonymous", name: "anonymous", widget: "boolean", default: false, hint: "If true, shown as 'Runner #X' in results" }
      - { label: "Photo", name: "photo", widget: "image", required: false }
      - { label: "Color", name: "colorClass", widget: "select", options: ["orange", "pink", "green", "blue"], default: "orange", hint: "Avatar accent color" }
      - { label: "Joined Date", name: "joinedDate", widget: "datetime", format: "YYYY-MM-DD", required: false }

  # Run Results Collection
  - name: "results"
    label: "Run Results"
    label_singular: "Run Result"
    description: "Weekly run results and photos"
    folder: "content/results"
    create: true
    slug: "{{year}}-{{month}}-{{day}}"
    extension: "md"
    fields:
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Title", name: "title", widget: "string", default: "Sunday Run", hint: "The title for this specific result" }
      - { label: "Event Name", name: "eventTitle", widget: "string", default: "‚òï Sunday Run & Breakfast", hint: "The original event name" }
      - { label: "Event Description", name: "eventDescription", widget: "text", required: false, hint: "Description from the original event" }
      - { label: "Location", name: "location", widget: "string", default: "Bingham Market Place" }
      - { label: "Main Photo", name: "mainPhoto", widget: "image", required: false, hint: "Leave empty for auto-generated placeholder" }
      - { label: "Weather", name: "weather", widget: "string", required: false }
      - { label: "Is Special Event", name: "isSpecialEvent", widget: "boolean", default: false, hint: "Show special event badge" }
      - label: "Participants"
        name: "participants"
        widget: "list"
        fields:
          - { label: "Runner ID", name: "runner", widget: "string", hint: "Runner slug (e.g. 'james') or 'guest'" }
          - { label: "Distance (km)", name: "distance", widget: "number", value_type: "float" }
          - { label: "Small Loops (0.8km)", name: "smallLoops", widget: "number", default: 0 }
          - { label: "Medium Loops (1km)", name: "mediumLoops", widget: "number", default: 0 }
          - { label: "Long Loops (1.2km)", name: "longLoops", widget: "number", default: 0 }
          - { label: "Time (MM:SS)", name: "time", widget: "string" }
      - { label: "Race Comments", name: "body", widget: "markdown", required: false }
